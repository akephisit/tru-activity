# TRU Activity - Cloud Run Environment Variables
# Copy this file to .env.cloudrun และแก้ไขค่าต่างๆ

# ===========================================
# PROJECT CONFIGURATION
# ===========================================
PROJECT_ID=your-gcp-project-id
REGION=asia-southeast1

# Frontend URL (จะได้หลังจาก deploy)
FRONTEND_URL=https://tru-activity-frontend-xxxxx-uc.a.run.app

# Backend URL (จะได้หลังจาก deploy)
BACKEND_URL=https://tru-activity-backend-xxxxx-uc.a.run.app

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# Cloud SQL Instance Connection Name
DB_CONNECTION_NAME=your-project-id:asia-southeast1:tru-activity-db

# Database credentials (ใช้ Secret Manager ใน production)
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USER=truactivity
DB_PASSWORD=your-secure-database-password-min-32-chars
DB_NAME=tru_activity_prod
DB_SSLMODE=require

# ===========================================
# REDIS CONFIGURATION  
# ===========================================
# Cloud Memorystore Redis
REDIS_HOST=10.x.x.x
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password

# ===========================================
# JWT CONFIGURATION
# ===========================================
JWT_SECRET=your-jwt-secret-key-minimum-64-characters-long-random-string
JWT_EXPIRE_HOURS=24

# ===========================================
# EMAIL CONFIGURATION
# ===========================================
EMAIL_FROM=noreply@yourdomain.com
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# ===========================================
# QR SYSTEM CONFIGURATION
# ===========================================
QR_SECRET=your-qr-secret-key-minimum-32-characters-long

# ===========================================
# APPLICATION SETTINGS
# ===========================================
ENV=production
PORT=8080
CORS_ORIGINS=https://tru-activity-frontend-xxxxx-uc.a.run.app,https://yourdomain.com

# ===========================================
# FRONTEND ENVIRONMENT VARIABLES
# ===========================================
# ตัวแปรเหล่านี้ใช้ตอน build frontend
PUBLIC_API_URL=https://tru-activity-backend-xxxxx-uc.a.run.app
PUBLIC_GRAPHQL_URL=https://tru-activity-backend-xxxxx-uc.a.run.app/query
PUBLIC_ENV=production

# ===========================================
# OPTIONAL - CUSTOM DOMAIN
# ===========================================
# หากต้องการใช้ custom domain
CUSTOM_FRONTEND_DOMAIN=app.yourdomain.com
CUSTOM_BACKEND_DOMAIN=api.yourdomain.com

# ===========================================
# CLOUD RUN SPECIFIC SETTINGS
# ===========================================
# Memory และ CPU limits
BACKEND_MEMORY=1Gi
BACKEND_CPU=1
BACKEND_MAX_INSTANCES=100

FRONTEND_MEMORY=512Mi
FRONTEND_CPU=1
FRONTEND_MAX_INSTANCES=50

# ===========================================
# MONITORING & LOGGING
# ===========================================
# Google Cloud Logging
LOG_LEVEL=info
ENABLE_STRUCTURED_LOGGING=true

# ===========================================
# SECURITY SETTINGS
# ===========================================
# Security headers
ENABLE_SECURITY_HEADERS=true
CORS_MAX_AGE=86400

# Rate limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100